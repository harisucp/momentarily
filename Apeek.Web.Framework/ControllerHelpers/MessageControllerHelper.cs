using System.Collections.Generic;using Apeek.Common;using Apeek.ViewModels.Models;namespace Apeek.Web.Framework.ControllerHelpers{    public class MessageControllerHelper : BaseControllerHelper
    {        public IEnumerable<UserMessageViewModel> GetMessages()        {            if (UserId == null) return null;            var result = UserMessageService.GetLastMessages(UserId.Value);            return result.CreateResult == CreateResult.Success ? result.Obj : null;        }        public UserConversationViewModel GetConversation(int userId)        {            if (UserId == null) return null;            var result = UserMessageService.GetConversation(UserId.Value, userId);            return result.CreateResult == CreateResult.Success ? result.Obj : null;        }        public bool? SetIsRead(int userId)        {            if (UserId == null) return null;            bool result = UserMessageService.SetIsRead(userId, UserId.Value);            return result;        }    }}